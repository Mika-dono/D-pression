<!-- ==========================================
     ADMIN PANEL - KYOJIN KJX E-SPORTS
     Version 2.0 - Complete Management System
     ========================================== -->

<!-- ==========================================
     LOGIN SCREEN - Enhanced Design
     ========================================== -->
<div *ngIf="!isLoggedIn" class="login-page">
  <div class="login-bg">
    <div class="login-gradient"></div>
    <div class="login-grid"></div>
    <div class="login-particles">
      <div class="particle" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12]"></div>
    </div>
    <div class="login-glow"></div>
  </div>

  <div class="login-container">
    <div class="login-card">
      <div class="login-header">
        <div class="login-logo">
          <span class="logo-text">D-P</span>
          <span class="logo-pulse"></span>
        </div>
        <h1 class="login-title">Administration</h1>
        <p class="login-subtitle">Panneau de gestion Kyojin KJX E-Sports</p>
      </div>

      <form (ngSubmit)="login()" class="login-form">
        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸ‘¤</span>
            Identifiant
          </label>
          <div class="input-wrapper">
            <input 
              [(ngModel)]="credentials.username" 
              name="username"
              type="text" 
              placeholder="Entrez votre identifiant" 
              class="form-input"
              autocomplete="username"
            />
            <span class="input-focus-border"></span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸ”’</span>
            Mot de passe
          </label>
          <div class="input-wrapper">
            <input 
              [(ngModel)]="credentials.password" 
              name="password"
              type="password" 
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" 
              class="form-input"
              autocomplete="current-password"
            />
            <span class="input-focus-border"></span>
          </div>
        </div>

        <div class="login-error" *ngIf="loginError">
          <span class="error-icon">âš ï¸</span>
          {{ loginError }}
        </div>

        <button type="submit" class="btn-login" [disabled]="isLoggingIn">
          <span *ngIf="!isLoggingIn">
            <span class="btn-text">Connexion</span>
            <span class="btn-arrow">â†’</span>
          </span>
          <span *ngIf="isLoggingIn" class="loading-spinner"></span>
        </button>
      </form>

      <div class="login-footer">
        <div class="login-divider">
          <span>Informations</span>
        </div>
        <p class="demo-hint">
          <span class="hint-label">Demo:</span> 
          <code class="highlight">admin</code> / <code class="highlight">admin123</code>
        </p>
      </div>
    </div>

    <div class="login-features">
      <div class="feature-card">
        <span class="feature-icon">ğŸ›¡ï¸</span>
        <div class="feature-content">
          <h4>SÃ©curisÃ©</h4>
          <p>Connexion cryptÃ©e SHA-256</p>
        </div>
      </div>
      <div class="feature-card">
        <span class="feature-icon">ğŸš€</span>
        <div class="feature-content">
          <h4>Performant</h4>
          <p>Angular 21 + Spring Boot</p>
        </div>
      </div>
      <div class="feature-card">
        <span class="feature-icon">ğŸ®</span>
        <div class="feature-content">
          <h4>E-Sports</h4>
          <p>Gestion complÃ¨te</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ==========================================
     ADMIN DASHBOARD LAYOUT
     ========================================== -->
<div *ngIf="isLoggedIn" class="admin-layout">
  
  <!-- ========== SIDEBAR ========== -->
  <aside class="admin-sidebar" [class.collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="sidebar-logo" *ngIf="!sidebarCollapsed">
        <span class="logo-icon">D-P</span>
        <div class="logo-info">
          <span class="logo-text">KYOJIN KJX</span>
          <span class="logo-subtitle">Admin Panel</span>
        </div>
      </div>
      <button class="btn-collapse" (click)="toggleSidebar()" [title]="sidebarCollapsed ? 'Ouvrir le menu' : 'Fermer le menu'">
        <span class="collapse-icon" *ngIf="!sidebarCollapsed">âœ•</span>
        <span class="collapse-icon" *ngIf="sidebarCollapsed">â˜°</span>
      </button>
    </div>

    <nav class="sidebar-nav">
      <!-- Administration Section -->
      <div class="nav-section">
        <span class="nav-section-label" *ngIf="!sidebarCollapsed">
          <span class="section-icon">âš™ï¸</span> ADMINISTRATION
        </span>
        <div class="nav-section-divider" *ngIf="sidebarCollapsed"></div>
        
        <button 
          *ngFor="let section of getSectionsByCategory('admin')"
          (click)="switchSection(section.id)"
          class="nav-item"
          [class.active]="activeSection === section.id"
          [title]="sidebarCollapsed ? section.label : ''"
        >
          <span class="nav-icon">{{ section.icon }}</span>
          <span class="nav-label" *ngIf="!sidebarCollapsed">{{ section.label }}</span>
          <span class="nav-badge" *ngIf="section.badge && section.badge > 0">{{ section.badge }}</span>
          <span class="nav-arrow" *ngIf="!sidebarCollapsed">â€º</span>
        </button>
      </div>

      <!-- E-Sport Section -->
      <div class="nav-section">
        <span class="nav-section-label" *ngIf="!sidebarCollapsed">
          <span class="section-icon">ğŸ®</span> E-SPORT
        </span>
        <div class="nav-section-divider" *ngIf="sidebarCollapsed"></div>
        
        <button 
          *ngFor="let section of getSectionsByCategory('esport')"
          (click)="switchSection(section.id)"
          class="nav-item"
          [class.active]="activeSection === section.id"
          [title]="sidebarCollapsed ? section.label : ''"
        >
          <span class="nav-icon">{{ section.icon }}</span>
          <span class="nav-label" *ngIf="!sidebarCollapsed">{{ section.label }}</span>
          <span class="nav-badge" *ngIf="section.badge && section.badge > 0">{{ section.badge }}</span>
          <span class="nav-arrow" *ngIf="!sidebarCollapsed">â€º</span>
        </button>
      </div>

      <!-- Settings Section -->
      <div class="nav-section">
        <span class="nav-section-label" *ngIf="!sidebarCollapsed">
          <span class="section-icon">ğŸ”§</span> SYSTÃˆME
        </span>
        <div class="nav-section-divider" *ngIf="sidebarCollapsed"></div>
        
        <button 
          *ngFor="let section of getSectionsByCategory('content')"
          (click)="switchSection(section.id)"
          class="nav-item"
          [class.active]="activeSection === section.id"
          [title]="sidebarCollapsed ? section.label : ''"
        >
          <span class="nav-icon">{{ section.icon }}</span>
          <span class="nav-label" *ngIf="!sidebarCollapsed">{{ section.label }}</span>
          <span class="nav-arrow" *ngIf="!sidebarCollapsed">â€º</span>
        </button>
      </div>
    </nav>

    <div class="sidebar-footer" *ngIf="!sidebarCollapsed">
      <div class="sidebar-user-card">
        <div class="user-avatar-small">{{ adminName.charAt(0).toUpperCase() }}</div>
        <div class="user-details">
          <span class="user-name-small">{{ adminName }}</span>
          <span class="user-role">Administrateur</span>
        </div>
      </div>
      <div class="sidebar-actions">
        <a routerLink="/" class="btn-sidebar-action">
          <span class="btn-icon">ğŸ </span>
          <span>Site public</span>
        </a>
        <button class="btn-sidebar-action logout" (click)="logout()">
          <span class="btn-icon">ğŸšª</span>
          <span>DÃ©connexion</span>
        </button>
      </div>
    </div>
    
    <div class="sidebar-footer-collapsed" *ngIf="sidebarCollapsed">
      <a routerLink="/" class="btn-icon-only" title="Site public">ğŸ </a>
      <button class="btn-icon-only" (click)="logout()" title="DÃ©connexion">ğŸšª</button>
    </div>
  </aside>

  <!-- ========== MOBILE HEADER ========== -->
  <div class="mobile-header">
    <button class="btn-menu" (click)="toggleMobileMenu()">
      <span class="menu-bar"></span>
      <span class="menu-bar"></span>
      <span class="menu-bar"></span>
    </button>
    <div class="mobile-logo">
      <span class="mobile-logo-icon">D-P</span>
      <span class="mobile-logo-text">Admin</span>
    </div>
    <div class="mobile-user" (click)="logout()">
      <span class="mobile-user-avatar">{{ adminName.charAt(0).toUpperCase() }}</span>
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" [class.active]="showMobileMenu" (click)="toggleMobileMenu()"></div>
  <div class="mobile-menu" [class.active]="showMobileMenu">
    <div class="mobile-menu-header">
      <span class="mobile-menu-title">Navigation</span>
      <button class="btn-close-menu" (click)="toggleMobileMenu()">âœ•</button>
    </div>
    
    <div class="mobile-menu-section">
      <span class="mobile-section-label">Administration</span>
      <button 
        *ngFor="let section of getSectionsByCategory('admin')"
        (click)="switchSection(section.id)"
        class="mobile-nav-item"
        [class.active]="activeSection === section.id"
      >
        <span class="nav-icon">{{ section.icon }}</span>
        <span>{{ section.label }}</span>
        <span class="nav-badge" *ngIf="section.badge">{{ section.badge }}</span>
      </button>
    </div>
    
    <div class="mobile-menu-section">
      <span class="mobile-section-label">E-Sport</span>
      <button 
        *ngFor="let section of getSectionsByCategory('esport')"
        (click)="switchSection(section.id)"
        class="mobile-nav-item"
        [class.active]="activeSection === section.id"
      >
        <span class="nav-icon">{{ section.icon }}</span>
        <span>{{ section.label }}</span>
        <span class="nav-badge" *ngIf="section.badge">{{ section.badge }}</span>
      </button>
    </div>
    
    <div class="mobile-menu-footer">
      <a routerLink="/" class="mobile-nav-item">
        <span class="nav-icon">ğŸ </span>
        <span>Retour au site</span>
      </a>
      <button class="mobile-nav-item logout" (click)="logout()">
        <span class="nav-icon">ğŸšª</span>
        <span>DÃ©connexion</span>
      </button>
    </div>
  </div>

  <!-- ========== MAIN CONTENT ========== -->
  <main class="admin-main">
    <!-- Top Bar -->
    <header class="admin-topbar">
      <div class="topbar-left">
        <div class="topbar-breadcrumb">
          <span class="breadcrumb-home">ğŸ </span>
          <span class="breadcrumb-separator">/</span>
          <span class="breadcrumb-current">{{ getSectionTitle() }}</span>
        </div>
        <h1 class="page-title">{{ getSectionTitle() }}</h1>
      </div>
      <div class="topbar-right">
        <div class="topbar-search">
          <input type="text" placeholder="Rechercher..." class="search-input" />
          <span class="search-icon">ğŸ”</span>
        </div>
        <div class="topbar-notifications">
          <button class="btn-notification">
            <span class="notif-icon">ğŸ””</span>
            <span class="notif-badge" *ngIf="dashboardStats.pendingScrims > 0">{{ dashboardStats.pendingScrims }}</span>
          </button>
        </div>
        <div class="topbar-time">
          <span class="time-icon">ğŸ•</span>
          <span class="time-value">{{ currentTime | date:'HH:mm' }}</span>
        </div>
        <div class="topbar-user">
          <div class="user-avatar">{{ adminName.charAt(0).toUpperCase() }}</div>
          <div class="user-info">
            <span class="user-greeting">{{ getGreeting() }},</span>
            <span class="user-name">{{ adminName }}</span>
          </div>
          <button class="btn-user-menu">â–¼</button>
        </div>
      </div>
    </header>

    <div class="admin-content">
      <!-- ==========================================
           DASHBOARD SECTION - ENHANCED
           ========================================== -->
      <div *ngIf="activeSection === 'dashboard'" class="section-dashboard">
        <!-- Welcome Banner -->
        <div class="welcome-banner">
          <div class="welcome-content">
            <h2 class="welcome-title">{{ getGreeting() }}, {{ adminName }} ! ğŸ‘‹</h2>
            <p class="welcome-subtitle">Voici un aperÃ§u de votre activitÃ© sur Kyojin KJX E-Sports</p>
          </div>
          <div class="welcome-date">
            <span class="date-day">{{ currentTime | date:'EEEE' }}</span>
            <span class="date-full">{{ currentTime | date:'d MMMM yyyy' }}</span>
          </div>
        </div>

        <!-- Stats Grid - 8 cards -->
        <div class="stats-grid-large">
          <div class="stat-card stat-users">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ‘¥</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalUsers }}</span>
              <span class="stat-label">Utilisateurs</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change positive">+5 ce mois</span>
            </div>
          </div>
          
          <div class="stat-card stat-products">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ›’</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalProducts }}</span>
              <span class="stat-label">Produits</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change">En stock</span>
            </div>
          </div>
          
          <div class="stat-card stat-posts">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ“°</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalPosts }}</span>
              <span class="stat-label">ActualitÃ©s</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change">PubliÃ©es</span>
            </div>
          </div>
          
          <div class="stat-card stat-revenue">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ’°</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ formatCurrency(dashboardStats.totalRevenue) }}</span>
              <span class="stat-label">Revenus</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change positive">+12%</span>
            </div>
          </div>
          
          <div class="stat-card stat-teams">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ®</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalTeams }}</span>
              <span class="stat-label">Ã‰quipes</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change">Actives</span>
            </div>
          </div>
          
          <div class="stat-card stat-events">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ“…</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalEvents }}</span>
              <span class="stat-label">Ã‰vÃ©nements</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change">ProgrammÃ©s</span>
            </div>
          </div>
          
          <div class="stat-card stat-matches">
            <div class="stat-icon-wrapper">
              <span class="stat-icon">ğŸ†</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.totalMatches }}</span>
              <span class="stat-label">Matchs</span>
            </div>
            <div class="stat-footer">
              <span class="stat-change">Ã€ venir</span>
            </div>
          </div>
          
          <div class="stat-card stat-scrims highlight" (click)="switchSection('scrims')">
            <div class="stat-icon-wrapper pulse">
              <span class="stat-icon">âš”ï¸</span>
            </div>
            <div class="stat-content">
              <span class="stat-value">{{ dashboardStats.pendingScrims }}</span>
              <span class="stat-label">Scrims en attente</span>
            </div>
            <div class="stat-footer">
              <span class="stat-action">GÃ©rer â†’</span>
            </div>
          </div>
        </div>

        <!-- Dashboard Grid - 3 columns -->
        <div class="dashboard-grid-3">
          <!-- Quick Actions Panel -->
          <div class="admin-panel quick-actions-panel">
            <div class="panel-header">
              <h3 class="panel-title">
                <span class="title-icon">âš¡</span>
                Actions Rapides
              </h3>
            </div>
            <div class="panel-body">
              <div class="quick-actions-grid">
                <button class="quick-action-btn" (click)="openUserModal()">
                  <span class="action-icon">ğŸ‘¤</span>
                  <span class="action-label">Nouvel utilisateur</span>
                </button>
                <button class="quick-action-btn" (click)="openProductModal()">
                  <span class="action-icon">ğŸ›ï¸</span>
                  <span class="action-label">Nouveau produit</span>
                </button>
                <button class="quick-action-btn" (click)="openPostModal()">
                  <span class="action-icon">ğŸ“</span>
                  <span class="action-label">Nouvel article</span>
                </button>
                <button class="quick-action-btn" (click)="openTeamModal()">
                  <span class="action-icon">ğŸ®</span>
                  <span class="action-label">Nouvelle Ã©quipe</span>
                </button>
                <button class="quick-action-btn" (click)="openEventModal()">
                  <span class="action-icon">ğŸ“…</span>
                  <span class="action-label">Nouvel Ã©vÃ©nement</span>
                </button>
                <button class="quick-action-btn" (click)="openMatchModal()">
                  <span class="action-icon">ğŸ†</span>
                  <span class="action-label">Nouveau match</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Recent Users -->
          <div class="admin-panel recent-panel">
            <div class="panel-header">
              <h3 class="panel-title">
                <span class="title-icon">ğŸ‘¥</span>
                Derniers Utilisateurs
              </h3>
              <button class="btn-panel-action" (click)="switchSection('users')">Voir tout</button>
            </div>
            <div class="panel-body">
              <div class="recent-list" *ngIf="users.length > 0">
                <div class="recent-item" *ngFor="let user of users.slice(0, 5)">
                  <div class="recent-avatar">{{ user.username.charAt(0).toUpperCase() }}</div>
                  <div class="recent-info">
                    <span class="recent-name">{{ user.username }}</span>
                    <span class="recent-meta">{{ user.email }}</span>
                  </div>
                  <span class="recent-badge" [class]="getRoleBadgeClass(user.role)">{{ user.role }}</span>
                </div>
              </div>
              <div class="empty-state-small" *ngIf="users.length === 0">
                <span class="empty-icon">ğŸ‘¥</span>
                <p>Aucun utilisateur</p>
              </div>
            </div>
          </div>

          <!-- Recent Products -->
          <div class="admin-panel recent-panel">
            <div class="panel-header">
              <h3 class="panel-title">
                <span class="title-icon">ğŸ›’</span>
                Derniers Produits
              </h3>
              <button class="btn-panel-action" (click)="switchSection('products')">Voir tout</button>
            </div>
            <div class="panel-body">
              <div class="recent-list" *ngIf="products.length > 0">
                <div class="recent-item" *ngFor="let product of products.slice(0, 5)">
                  <div class="recent-avatar product">ğŸ›ï¸</div>
                  <div class="recent-info">
                    <span class="recent-name">{{ product.name }}</span>
                    <span class="recent-meta">{{ formatCurrency(product.price) }} â€¢ Stock: {{ product.stock }}</span>
                  </div>
                  <span class="recent-badge" [class.badge-success]="product.stock > 10" [class.badge-warning]="product.stock <= 10 && product.stock > 0" [class.badge-danger]="product.stock === 0">
                    {{ product.stock > 0 ? 'En stock' : 'Rupture' }}
                  </span>
                </div>
              </div>
              <div class="empty-state-small" *ngIf="products.length === 0">
                <span class="empty-icon">ğŸ›’</span>
                <p>Aucun produit</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Second Row - Events & Matches -->
        <div class="dashboard-grid-2">
          <!-- Upcoming Events -->
          <div class="admin-panel events-panel">
            <div class="panel-header">
              <h3 class="panel-title">
                <span class="title-icon">ğŸ“†</span>
                Prochains Ã‰vÃ©nements
              </h3>
              <button class="btn-panel-action" (click)="switchSection('events')">Voir tout</button>
            </div>
            <div class="panel-body">
              <div class="events-timeline" *ngIf="getUpcomingEvents().length > 0">
                <div class="timeline-item" *ngFor="let event of getUpcomingEvents()">
                  <div class="timeline-marker">
                    <span class="marker-icon">{{ getEventTypeLabel(event.eventType).charAt(0) }}</span>
                  </div>
                  <div class="timeline-content">
                    <span class="timeline-title">{{ event.title }}</span>
                    <span class="timeline-meta">
                      <span class="meta-date">{{ formatDate(event.date) }}</span>
                      <span class="meta-type">{{ getEventTypeLabel(event.eventType) }}</span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="empty-state-small" *ngIf="getUpcomingEvents().length === 0">
                <span class="empty-icon">ğŸ“­</span>
                <p>Aucun Ã©vÃ©nement Ã  venir</p>
              </div>
            </div>
          </div>

          <!-- Upcoming Matches -->
          <div class="admin-panel matches-panel">
            <div class="panel-header">
              <h3 class="panel-title">
                <span class="title-icon">ğŸ†</span>
                Prochains Matchs
              </h3>
              <button class="btn-panel-action" (click)="switchSection('matches')">Voir tout</button>
            </div>
            <div class="panel-body">
              <div class="matches-list-dashboard" *ngIf="getUpcomingMatches().length > 0">
                <div class="match-card-mini" *ngFor="let match of getUpcomingMatches()">
                  <div class="match-header-mini">
                    <span class="match-tournament-mini">{{ match.tournament }}</span>
                    <span class="match-format-mini">{{ match.format }}</span>
                  </div>
                  <div class="match-teams-mini">
                    <span class="team-name-mini">{{ match.team1 }}</span>
                    <span class="vs-mini">VS</span>
                    <span class="team-name-mini">{{ match.team2 }}</span>
                  </div>
                  <div class="match-date-mini">{{ formatDate(match.date) }}</div>
                </div>
              </div>
              <div class="empty-state-small" *ngIf="getUpcomingMatches().length === 0">
                <span class="empty-icon">ğŸ¯</span>
                <p>Aucun match programmÃ©</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           USERS MANAGEMENT SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'users'" class="section-users">
        <!-- Users Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Utilisateurs</h2>
            <p class="section-subtitle">GÃ©rez tous les comptes utilisateurs de la plateforme</p>
          </div>
          <button class="btn-primary btn-add" (click)="openUserModal()">
            <span class="btn-icon">â•</span>
            Nouvel Utilisateur
          </button>
        </div>

        <!-- Users Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ users.length }}</span>
            <span class="mini-stat-label">Total</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getActiveUsersCount() }}</span>
            <span class="mini-stat-label">Actifs</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getAdminUsersCount() }}</span>
            <span class="mini-stat-label">Admins</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getInactiveUsersCount() }}</span>
            <span class="mini-stat-label">Inactifs</span>
          </div>
        </div>

        <!-- Users Panel -->
        <div class="admin-panel users-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ‘¥</span>
              Liste des Utilisateurs
            </h3>
            <div class="panel-filters">
              <select [(ngModel)]="userFilter" class="filter-select">
                <option value="all">Tous les utilisateurs</option>
                <option value="active">Actifs uniquement</option>
                <option value="inactive">Inactifs uniquement</option>
                <option value="admin">Administrateurs</option>
                <option value="moderator">ModÃ©rateurs</option>
                <option value="coach">Coachs</option>
                <option value="user">Utilisateurs</option>
              </select>
            </div>
          </div>
          
          <div class="panel-body">
            <!-- Users Table -->
            <div class="data-table-wrapper">
              <table class="data-table" *ngIf="getFilteredUsers().length > 0">
                <thead>
                  <tr>
                    <th class="th-user">Utilisateur</th>
                    <th class="th-email">Email</th>
                    <th class="th-role">RÃ´le</th>
                    <th class="th-status">Statut</th>
                    <th class="th-date">Inscription</th>
                    <th class="th-actions">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let user of getFilteredUsers()" [class.inactive]="!user.isActive">
                    <td class="td-user">
                      <div class="user-cell">
                        <div class="user-avatar-table">{{ user.username.charAt(0).toUpperCase() }}</div>
                        <span class="user-name-table">{{ user.username }}</span>
                      </div>
                    </td>
                    <td class="td-email">{{ user.email }}</td>
                    <td class="td-role">
                      <span class="role-badge" [class]="getRoleBadgeClass(user.role)">{{ user.role }}</span>
                    </td>
                    <td class="td-status">
                      <span class="status-indicator" [class.active]="user.isActive" [class.inactive]="!user.isActive">
                        {{ user.isActive ? 'Actif' : 'Inactif' }}
                      </span>
                    </td>
                    <td class="td-date">{{ user.createdAt ? formatDate(user.createdAt.split('T')[0]) : 'N/A' }}</td>
                    <td class="td-actions">
                      <div class="action-buttons">
                        <button class="btn-action btn-edit" (click)="openUserModal(user)" title="Modifier">
                          <span>âœï¸</span>
                        </button>
                        <button class="btn-action btn-toggle" (click)="toggleUserActive(user)" [title]="user.isActive ? 'DÃ©sactiver' : 'Activer'">
                          <span>{{ user.isActive ? 'ğŸš«' : 'âœ…' }}</span>
                        </button>
                        <button class="btn-action btn-delete" (click)="deleteUser(user.id!)" title="Supprimer" *ngIf="user.role !== 'ADMIN'">
                          <span>ğŸ—‘ï¸</span>
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              
              <div class="empty-state" *ngIf="getFilteredUsers().length === 0">
                <span class="empty-icon">ğŸ‘¥</span>
                <h4>Aucun utilisateur trouvÃ©</h4>
                <p>{{ userFilter === 'all' ? 'CrÃ©ez votre premier utilisateur' : 'Aucun utilisateur ne correspond Ã  ce filtre' }}</p>
                <button class="btn-primary" (click)="openUserModal()">â• CrÃ©er un utilisateur</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           PRODUCTS MANAGEMENT SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'products'" class="section-products">
        <!-- Products Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Produits</h2>
            <p class="section-subtitle">GÃ©rez la boutique et les produits de la plateforme</p>
          </div>
          <button class="btn-primary btn-add" (click)="openProductModal()">
            <span class="btn-icon">â•</span>
            Nouveau Produit
          </button>
        </div>

        <!-- Products Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ products.length }}</span>
            <span class="mini-stat-label">Total produits</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getInStockProductsCount() }}</span>
            <span class="mini-stat-label">En stock</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getFeaturedProductsCount() }}</span>
            <span class="mini-stat-label">Vedettes</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getLowStockProductsCount() }}</span>
            <span class="mini-stat-label">Stock faible</span>
          </div>
        </div>

        <!-- Products Panel -->
        <div class="admin-panel products-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ›’</span>
              Catalogue Produits
            </h3>
            <div class="panel-filters">
              <select [(ngModel)]="productFilter" class="filter-select">
                <option value="all">Tous les produits</option>
                <option value="featured">Produits vedettes</option>
                <option value="lowstock">Stock faible</option>
                <option value="apparel">VÃªtements</option>
                <option value="merchandise">Merchandise</option>
                <option value="bundle">Bundles</option>
                <option value="digital">Digital</option>
              </select>
            </div>
          </div>
          
          <div class="panel-body">
            <!-- Products Grid -->
            <div class="products-grid" *ngIf="getFilteredProducts().length > 0">
              <div class="product-card" *ngFor="let product of getFilteredProducts()" [class.featured]="product.isFeatured" [class.out-of-stock]="product.stock === 0">
                <div class="product-image">
                  <span class="product-placeholder">ğŸ›ï¸</span>
                  <span class="product-featured-badge" *ngIf="product.isFeatured">â­ Vedette</span>
                  <span class="product-stock-badge" [class.low]="product.stock < 10 && product.stock > 0" [class.out]="product.stock === 0">
                    {{ product.stock === 0 ? 'Rupture' : product.stock < 10 ? 'Stock faible' : 'En stock' }}
                  </span>
                </div>
                <div class="product-info">
                  <h4 class="product-name">{{ product.name }}</h4>
                  <span class="product-category">{{ getCategoryLabel(product.category) }}</span>
                  <p class="product-description" *ngIf="product.description">{{ product.description }}</p>
                  <div class="product-meta">
                    <span class="product-price">{{ formatCurrency(product.price) }}</span>
                    <span class="product-stock">Stock: {{ product.stock }}</span>
                  </div>
                </div>
                <div class="product-actions">
                  <button class="btn-product-action" (click)="openProductModal(product)" title="Modifier">âœï¸</button>
                  <button class="btn-product-action delete" (click)="deleteProduct(product.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="getFilteredProducts().length === 0">
              <span class="empty-icon">ğŸ›’</span>
              <h4>Aucun produit trouvÃ©</h4>
              <p>{{ productFilter === 'all' ? 'Ajoutez votre premier produit au catalogue' : 'Aucun produit ne correspond Ã  ce filtre' }}</p>
              <button class="btn-primary" (click)="openProductModal()">â• Ajouter un produit</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           MEMBERSHIPS MANAGEMENT SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'memberships'" class="section-memberships">
        <!-- Memberships Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Abonnements</h2>
            <p class="section-subtitle">GÃ©rez les formules d'abonnement de la plateforme</p>
          </div>
          <button class="btn-primary btn-add" (click)="openMembershipModal()">
            <span class="btn-icon">â•</span>
            Nouvel Abonnement
          </button>
        </div>

        <!-- Memberships Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ memberships.length }}</span>
            <span class="mini-stat-label">Total</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getActiveMembershipsCount() }}</span>
            <span class="mini-stat-label">Actifs</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ formatCurrency(getTotalMembershipsRevenue()) }}</span>
            <span class="mini-stat-label">Valeur totale</span>
          </div>
        </div>

        <!-- Memberships Panel -->
        <div class="admin-panel memberships-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">â­</span>
              Formules d'Abonnement
            </h3>
          </div>
          
          <div class="panel-body">
            <div class="memberships-grid" *ngIf="memberships.length > 0">
              <div class="membership-card" *ngFor="let membership of memberships" [class.inactive]="!membership.isActive" [class.featured]="membership.price >= 50">
                <div class="membership-header">
                  <span class="membership-icon">{{ membership.price >= 50 ? 'ğŸ‘‘' : membership.price >= 20 ? 'â­' : 'ğŸ¯' }}</span>
                  <span class="membership-status" [class.active]="membership.isActive">
                    {{ membership.isActive ? 'Actif' : 'Inactif' }}
                  </span>
                </div>
                <h4 class="membership-name">{{ membership.name }}</h4>
                <div class="membership-price">
                  <span class="price-value">{{ formatCurrency(membership.price) }}</span>
                  <span class="price-period">/ {{ membership.durationDays }} jours</span>
                </div>
                <p class="membership-description" *ngIf="membership.description">{{ membership.description }}</p>
                <div class="membership-benefits" *ngIf="membership.benefits">
                  <span class="benefits-label">Avantages:</span>
                  <p class="benefits-text">{{ membership.benefits }}</p>
                </div>
                <div class="membership-actions">
                  <button class="btn-card-action" (click)="openMembershipModal(membership)" title="Modifier">âœï¸</button>
                  <button class="btn-card-action delete" (click)="deleteMembership(membership.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="memberships.length === 0">
              <span class="empty-icon">â­</span>
              <h4>Aucun abonnement</h4>
              <p>CrÃ©ez votre premiÃ¨re formule d'abonnement</p>
              <button class="btn-primary" (click)="openMembershipModal()">â• CrÃ©er un abonnement</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           POSTS/NEWS MANAGEMENT SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'posts'" class="section-posts">
        <!-- Posts Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des ActualitÃ©s</h2>
            <p class="section-subtitle">GÃ©rez les articles et actualitÃ©s du site</p>
          </div>
          <button class="btn-primary btn-add" (click)="openPostModal()">
            <span class="btn-icon">â•</span>
            Nouvel Article
          </button>
        </div>

        <!-- Posts Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ posts.length }}</span>
            <span class="mini-stat-label">Total articles</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getPublishedPostsCount() }}</span>
            <span class="mini-stat-label">PubliÃ©s</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getDraftPostsCount() }}</span>
            <span class="mini-stat-label">Brouillons</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getTotalPostViews() }}</span>
            <span class="mini-stat-label">Vues totales</span>
          </div>
        </div>

        <!-- Posts Panel -->
        <div class="admin-panel posts-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ“°</span>
              Liste des Articles
            </h3>
            <div class="panel-filters">
              <select [(ngModel)]="postFilter" class="filter-select">
                <option value="all">Tous les articles</option>
                <option value="published">PubliÃ©s</option>
                <option value="draft">Brouillons</option>
                <option value="esports">E-Sports</option>
                <option value="announcements">Annonces</option>
                <option value="interviews">Interviews</option>
              </select>
            </div>
          </div>
          
          <div class="panel-body">
            <div class="posts-list" *ngIf="getFilteredPosts().length > 0">
              <div class="post-card" *ngFor="let post of getFilteredPosts()" [class.draft]="!post.isPublished">
                <div class="post-thumbnail">
                  <span class="post-icon">ğŸ“</span>
                </div>
                <div class="post-content">
                  <div class="post-header">
                    <h4 class="post-title">{{ post.title }}</h4>
                    <span class="post-status" [class.published]="post.isPublished" [class.draft]="!post.isPublished">
                      {{ post.isPublished ? 'âœ… PubliÃ©' : 'ğŸ“ Brouillon' }}
                    </span>
                  </div>
                  <p class="post-excerpt" *ngIf="post.excerpt">{{ post.excerpt }}</p>
                  <div class="post-meta">
                    <span class="meta-item"><span class="meta-icon">ğŸ“</span> {{ post.category }}</span>
                    <span class="meta-item"><span class="meta-icon">âœï¸</span> {{ post.author }}</span>
                    <span class="meta-item"><span class="meta-icon">ğŸ“…</span> {{ formatDate(post.date) }}</span>
                    <span class="meta-item" *ngIf="post.viewCount"><span class="meta-icon">ğŸ‘ï¸</span> {{ post.viewCount }} vues</span>
                  </div>
                </div>
                <div class="post-actions">
                  <button class="btn-action" (click)="openPostModal(post)" title="Modifier">âœï¸</button>
                  <button class="btn-action delete" (click)="deletePost(post.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="getFilteredPosts().length === 0">
              <span class="empty-icon">ğŸ“°</span>
              <h4>Aucun article trouvÃ©</h4>
              <p>{{ postFilter === 'all' ? 'CrÃ©ez votre premier article' : 'Aucun article ne correspond Ã  ce filtre' }}</p>
              <button class="btn-primary" (click)="openPostModal()">â• CrÃ©er un article</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           TEAMS MANAGEMENT SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'teams'" class="section-teams">
        <!-- Teams Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Ã‰quipes</h2>
            <p class="section-subtitle">GÃ©rez les Ã©quipes e-sport de Kyojin KJX</p>
          </div>
          <button class="btn-primary btn-add" (click)="openTeamModal()">
            <span class="btn-icon">â•</span>
            Nouvelle Ã‰quipe
          </button>
        </div>

        <!-- Teams Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ teams.length }}</span>
            <span class="mini-stat-label">Ã‰quipes</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getLolTeamsCount() }}</span>
            <span class="mini-stat-label">League of Legends</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getValorantTeamsCount() }}</span>
            <span class="mini-stat-label">Valorant</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getTotalTeamMembers() }}</span>
            <span class="mini-stat-label">Joueurs total</span>
          </div>
        </div>

        <!-- Teams Panel -->
        <div class="admin-panel teams-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ®</span>
              Nos Ã‰quipes
            </h3>
          </div>
          
          <div class="panel-body">
            <div class="teams-grid" *ngIf="teams.length > 0">
              <div class="team-card" *ngFor="let team of teams">
                <div class="team-header">
                  <div class="team-logo">
                    <span class="team-game-icon">{{ getGameIcon(team.game) }}</span>
                  </div>
                  <div class="team-info">
                    <h4 class="team-name">{{ team.name }}</h4>
                    <span class="team-game">{{ team.game.toUpperCase() }}</span>
                  </div>
                  <span class="team-winrate" *ngIf="team.winRate">{{ team.winRate }}% WR</span>
                </div>
                <p class="team-description" *ngIf="team.description">{{ team.description }}</p>
                <div class="team-roster" *ngIf="team.members && team.members.length > 0">
                  <span class="roster-label">Roster ({{ team.members.length }} joueurs)</span>
                  <div class="roster-list">
                    <div class="roster-member" *ngFor="let member of team.members.slice(0, 5)">
                      <span class="member-avatar">{{ member.name.charAt(0) }}</span>
                      <div class="member-info">
                        <span class="member-name">{{ member.name }}</span>
                        <span class="member-position">{{ member.position }}</span>
                      </div>
                    </div>
                    <div class="roster-more" *ngIf="team.members.length > 5">
                      +{{ team.members.length - 5 }} autres
                    </div>
                  </div>
                </div>
                <div class="team-actions">
                  <button class="btn-card-action" (click)="openTeamModal(team)" title="Modifier">âœï¸</button>
                  <button class="btn-card-action delete" (click)="deleteTeam(team.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="teams.length === 0">
              <span class="empty-icon">ğŸ®</span>
              <h4>Aucune Ã©quipe</h4>
              <p>CrÃ©ez votre premiÃ¨re Ã©quipe e-sport</p>
              <button class="btn-primary" (click)="openTeamModal()">â• CrÃ©er une Ã©quipe</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           SCHEDULE/PLANNING SECTION
           ========================================== -->
      <div *ngIf="activeSection === 'schedule'" class="section-schedule">
        <!-- Schedule Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Planning Hebdomadaire</h2>
            <p class="section-subtitle">GÃ©rez le planning d'entraÃ®nement de l'Ã©quipe</p>
          </div>
        </div>

        <!-- Schedule Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ Object.keys(schedule).length }}</span>
            <span class="mini-stat-label">Jours configurÃ©s</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">7</span>
            <span class="mini-stat-label">Jours/semaine</span>
          </div>
        </div>

        <!-- Schedule Panel -->
        <div class="admin-panel schedule-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ—“ï¸</span>
              Calendrier de la Semaine
            </h3>
          </div>
          
          <div class="panel-body">
            <div class="schedule-week-grid">
              <div 
                *ngFor="let day of days"
                class="schedule-day-card"
                [class.selected]="selectedDay === day"
                [class.configured]="schedule[day]"
                (click)="fillDay(day)"
              >
                <div class="day-header">
                  <span class="day-name">{{ day }}</span>
                  <span class="day-status" [class.active]="schedule[day]">
                    {{ schedule[day] ? 'âœ…' : 'â­•' }}
                  </span>
                </div>
                <div class="day-content" *ngIf="schedule[day]">
                  <span class="day-time">{{ schedule[day].start }} - {{ schedule[day].end }}</span>
                  <span class="day-desc">{{ schedule[day].description }}</span>
                </div>
                <div class="day-content empty" *ngIf="!schedule[day]">
                  <span class="day-empty">Non configurÃ©</span>
                  <span class="day-hint">Cliquer pour configurer</span>
                </div>
              </div>
            </div>

            <!-- Schedule Form -->
            <div class="schedule-form-section">
              <h4 class="form-section-title">
                <span class="title-icon">âœï¸</span>
                {{ selectedDay ? 'Modifier ' + selectedDay : 'Configurer un jour' }}
              </h4>
              <form (ngSubmit)="saveScheduleForm()" class="schedule-form">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Jour</label>
                    <select [(ngModel)]="dayForm.day" name="day" class="form-select">
                      <option *ngFor="let day of days" [value]="day">{{ day }}</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">DÃ©but</label>
                    <input [(ngModel)]="dayForm.start" name="start" type="time" class="form-input" />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Fin</label>
                    <input [(ngModel)]="dayForm.end" name="end" type="time" class="form-input" />
                  </div>
                </div>
                <div class="form-group full-width">
                  <label class="form-label">Description / ActivitÃ©</label>
                  <textarea [(ngModel)]="dayForm.description" name="description" class="form-textarea" placeholder="DÃ©tails de la session (ex: Scrims, Review VOD, EntraÃ®nement mÃ©canique...)"></textarea>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn-primary">ğŸ’¾ Sauvegarder</button>
                  <button type="button" class="btn-secondary" *ngIf="schedule[dayForm.day]" (click)="clearDay(dayForm.day)">ğŸ—‘ï¸ Effacer</button>
                </div>
              </form>
            </div>

            <!-- Weekly Objectives -->
            <div class="objectives-section">
              <h4 class="form-section-title">
                <span class="title-icon">ğŸ¯</span>
                Objectifs de la Semaine
              </h4>
              <form (ngSubmit)="saveObjectives()">
                <textarea 
                  [(ngModel)]="weeklyObjectives" 
                  name="objectives" 
                  class="form-textarea large"
                  placeholder="DÃ©finissez les objectifs prioritaires de la semaine..."></textarea>
                <div class="form-actions">
                  <button type="submit" class="btn-primary">ğŸ’¾ Enregistrer les objectifs</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           EVENTS SECTION - REFACTORED
           ========================================== -->
      <div *ngIf="activeSection === 'events'" class="section-events">
        <!-- Events Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Ã‰vÃ©nements</h2>
            <p class="section-subtitle">Programmez et gÃ©rez les Ã©vÃ©nements de l'Ã©quipe</p>
          </div>
          <button class="btn-primary btn-add" (click)="openEventModal()">
            <span class="btn-icon">â•</span>
            Nouvel Ã‰vÃ©nement
          </button>
        </div>

        <!-- Events Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ events.length }}</span>
            <span class="mini-stat-label">Total</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getUpcomingEvents().length }}</span>
            <span class="mini-stat-label">Ã€ venir</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getMatchEventsCount() }}</span>
            <span class="mini-stat-label">Matchs</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getTrainingEventsCount() }}</span>
            <span class="mini-stat-label">EntraÃ®nements</span>
          </div>
        </div>

        <!-- Events Panel -->
        <div class="admin-panel events-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ“…</span>
              Ã‰vÃ©nements ProgrammÃ©s
            </h3>
            <span class="panel-badge">{{ events.length }} Ã©vÃ©nements</span>
          </div>
          
          <div class="panel-body">
            <div class="events-list" *ngIf="events.length > 0">
              <div class="event-card" *ngFor="let event of getSortedEvents()">
                <div class="event-type-marker" [attr.data-type]="event.eventType">
                  <span class="type-icon">{{ getEventTypeLabel(event.eventType).charAt(0) }}</span>
                </div>
                <div class="event-main">
                  <div class="event-header">
                    <h4 class="event-title">{{ event.title }}</h4>
                    <span class="event-type-badge" [attr.data-type]="event.eventType">
                      {{ getEventTypeLabel(event.eventType) }}
                    </span>
                  </div>
                  <p class="event-description" *ngIf="event.description">{{ event.description }}</p>
                  <div class="event-meta">
                    <span class="meta-item">
                      <span class="meta-icon">ğŸ“…</span> {{ formatDate(event.date) }}
                    </span>
                    <span class="meta-item" *ngIf="event.time">
                      <span class="meta-icon">ğŸ•</span> {{ formatTime(event.time) }}
                    </span>
                    <span class="meta-item" *ngIf="event.location">
                      <span class="meta-icon">ğŸ“</span> {{ event.location }}
                    </span>
                  </div>
                </div>
                <div class="event-actions">
                  <button class="btn-action" (click)="openEventModal(event)" title="Modifier">âœï¸</button>
                  <button class="btn-action delete" (click)="deleteEvent(event.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="events.length === 0">
              <span class="empty-icon">ğŸ“…</span>
              <h4>Aucun Ã©vÃ©nement</h4>
              <p>CrÃ©ez votre premier Ã©vÃ©nement</p>
              <button class="btn-primary" (click)="openEventModal()">â• CrÃ©er un Ã©vÃ©nement</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           MATCHES SECTION - REFACTORED
           ========================================== -->
      <div *ngIf="activeSection === 'matches'" class="section-matches">
        <!-- Matches Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Matchs</h2>
            <p class="section-subtitle">Programmez et suivez les matchs compÃ©titifs</p>
          </div>
          <button class="btn-primary btn-add" (click)="openMatchModal()">
            <span class="btn-icon">â•</span>
            Nouveau Match
          </button>
        </div>

        <!-- Matches Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ matches.length }}</span>
            <span class="mini-stat-label">Total matchs</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getUpcomingMatches().length }}</span>
            <span class="mini-stat-label">Ã€ venir</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getVisibleMatchesCount() }}</span>
            <span class="mini-stat-label">Visibles</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getHiddenMatchesCount() }}</span>
            <span class="mini-stat-label">MasquÃ©s</span>
          </div>
        </div>

        <!-- Matches Panel -->
        <div class="admin-panel matches-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">ğŸ†</span>
              Matchs ProgrammÃ©s
            </h3>
            <span class="panel-badge">{{ matches.length }} matchs</span>
          </div>
          
          <div class="panel-body">
            <div class="matches-list" *ngIf="matches.length > 0">
              <div class="match-card" *ngFor="let match of getSortedMatches()" [class.hidden-match]="match.hidden">
                <div class="match-visibility" *ngIf="match.hidden">
                  <span class="visibility-badge">ğŸ‘ï¸ MasquÃ©</span>
                </div>
                <div class="match-tournament-info">
                  <span class="tournament-name">{{ match.tournament }}</span>
                  <span class="match-format">{{ match.format }}</span>
                </div>
                <div class="match-versus">
                  <div class="team-block team1">
                    <span class="team-avatar">{{ match.team1.charAt(0) }}</span>
                    <span class="team-name">{{ match.team1 }}</span>
                  </div>
                  <div class="vs-block">
                    <span class="vs-text">VS</span>
                  </div>
                  <div class="team-block team2">
                    <span class="team-avatar">{{ match.team2.charAt(0) }}</span>
                    <span class="team-name">{{ match.team2 }}</span>
                  </div>
                </div>
                <div class="match-datetime">
                  <span class="match-date">{{ formatDate(match.date) }}</span>
                  <span class="match-time" *ngIf="match.time">{{ formatTime(match.time) }}</span>
                </div>
                <div class="match-actions">
                  <button class="btn-action" (click)="openMatchModal(match)" title="Modifier">âœï¸</button>
                  <button class="btn-action" (click)="toggleMatch(match.id!)" [title]="match.hidden ? 'Afficher' : 'Masquer'">
                    {{ match.hidden ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
                  </button>
                  <button class="btn-action delete" (click)="deleteMatch(match.id!)" title="Supprimer">ğŸ—‘ï¸</button>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="matches.length === 0">
              <span class="empty-icon">ğŸ†</span>
              <h4>Aucun match programmÃ©</h4>
              <p>Programmez votre premier match</p>
              <button class="btn-primary" (click)="openMatchModal()">â• Ajouter un match</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           SCRIMS SECTION - REFACTORED
           ========================================== -->
      <div *ngIf="activeSection === 'scrims'" class="section-scrims">
        <!-- Scrims Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">Gestion des Scrims</h2>
            <p class="section-subtitle">GÃ©rez les demandes de scrims des Ã©quipes adverses</p>
          </div>
        </div>

        <!-- Scrims Stats -->
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <span class="mini-stat-value">{{ scrims.length }}</span>
            <span class="mini-stat-label">Total demandes</span>
          </div>
          <div class="mini-stat highlight">
            <span class="mini-stat-value">{{ getPendingScrimsCount() }}</span>
            <span class="mini-stat-label">En attente</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getAcceptedScrimsCount() }}</span>
            <span class="mini-stat-label">AcceptÃ©es</span>
          </div>
          <div class="mini-stat">
            <span class="mini-stat-value">{{ getRejectedScrimsCount() }}</span>
            <span class="mini-stat-label">RefusÃ©es</span>
          </div>
        </div>

        <!-- Scrims Panel -->
        <div class="admin-panel scrims-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">âš”ï¸</span>
              Demandes de Scrims
            </h3>
            <div class="panel-filters">
              <select [(ngModel)]="scrimFilter" class="filter-select">
                <option value="all">Toutes les demandes</option>
                <option value="pending">â³ En attente</option>
                <option value="accepted">âœ… AcceptÃ©es</option>
                <option value="rejected">âŒ RefusÃ©es</option>
              </select>
            </div>
          </div>
          
          <div class="panel-body">
            <div class="scrims-list" *ngIf="getFilteredScrims().length > 0">
              <div class="scrim-card" *ngFor="let scrim of getFilteredScrims()" [class]="'status-' + scrim.status">
                <div class="scrim-header">
                  <div class="scrim-opponent">
                    <span class="opponent-avatar">{{ scrim.opponent?.charAt(0) || '?' }}</span>
                    <div class="opponent-info">
                      <span class="opponent-name">{{ scrim.opponent }}</span>
                      <span class="opponent-game">{{ scrim.game || 'Jeu non prÃ©cisÃ©' }}</span>
                    </div>
                  </div>
                  <span class="scrim-status-badge" [class]="getStatusBadgeClass(scrim.status)">
                    {{ scrim.status === 'pending' ? 'â³ En attente' : scrim.status === 'accepted' ? 'âœ… AcceptÃ©e' : 'âŒ RefusÃ©e' }}
                  </span>
                </div>
                
                <div class="scrim-details">
                  <div class="detail-row">
                    <span class="detail-item">
                      <span class="detail-icon">ğŸ®</span>
                      <span class="detail-text">{{ scrim.game || 'Non prÃ©cisÃ©' }}</span>
                    </span>
                    <span class="detail-item">
                      <span class="detail-icon">ğŸ“…</span>
                      <span class="detail-text">{{ scrim.date ? formatDate(scrim.date) : 'Date non prÃ©cisÃ©e' }}</span>
                    </span>
                  </div>
                </div>
                
                <p class="scrim-message" *ngIf="scrim.description">
                  <span class="message-label">Message:</span>
                  {{ scrim.description }}
                </p>
                
                <div class="scrim-actions" *ngIf="scrim.status === 'pending'">
                  <button class="btn-scrim-action accept" (click)="updateScrim(scrim.id!, 'accepted')">
                    <span class="btn-icon">âœ…</span>
                    Accepter
                  </button>
                  <button class="btn-scrim-action reject" (click)="updateScrim(scrim.id!, 'rejected')">
                    <span class="btn-icon">âŒ</span>
                    Refuser
                  </button>
                </div>
                
                <div class="scrim-resolved" *ngIf="scrim.status !== 'pending'">
                  <span class="resolved-text">
                    {{ scrim.status === 'accepted' ? 'Scrim confirmÃ©' : 'Demande dÃ©clinÃ©e' }}
                  </span>
                </div>
              </div>
            </div>
            
            <div class="empty-state" *ngIf="getFilteredScrims().length === 0">
              <span class="empty-icon">âš”ï¸</span>
              <h4>Aucune demande de scrim</h4>
              <p>{{ scrimFilter === 'all' ? 'Les demandes de scrims apparaÃ®tront ici' : 'Aucune demande ne correspond Ã  ce filtre' }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================
           SETTINGS SECTION - ENHANCED
           ========================================== -->
      <div *ngIf="activeSection === 'settings'" class="section-settings">
        <!-- Settings Header -->
        <div class="section-header">
          <div class="header-info">
            <h2 class="section-title">ParamÃ¨tres SystÃ¨me</h2>
            <p class="section-subtitle">Configurez les paramÃ¨tres de l'application</p>
          </div>
        </div>

        <!-- Settings Panel -->
        <div class="admin-panel settings-panel">
          <div class="panel-header">
            <h3 class="panel-title">
              <span class="title-icon">âš™ï¸</span>
              Configuration
            </h3>
          </div>
          
          <div class="panel-body">
            <div class="settings-grid">
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸ”</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">SÃ©curitÃ©</h4>
                  <p class="setting-description">GÃ©rer les accÃ¨s et permissions</p>
                </div>
                <button class="btn-setting">Configurer</button>
              </div>
              
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸ¨</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">Apparence</h4>
                  <p class="setting-description">Personnaliser l'interface</p>
                </div>
                <button class="btn-setting">Configurer</button>
              </div>
              
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸ””</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">Notifications</h4>
                  <p class="setting-description">GÃ©rer les alertes et emails</p>
                </div>
                <button class="btn-setting">Configurer</button>
              </div>
              
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸ’¾</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">Sauvegarde</h4>
                  <p class="setting-description">Exporter les donnÃ©es</p>
                </div>
                <button class="btn-setting">Exporter</button>
              </div>
              
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸŒ</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">API & IntÃ©grations</h4>
                  <p class="setting-description">Connexions externes</p>
                </div>
                <button class="btn-setting">GÃ©rer</button>
              </div>
              
              <div class="setting-card">
                <div class="setting-icon-wrapper">
                  <span class="setting-icon">ğŸ“Š</span>
                </div>
                <div class="setting-content">
                  <h4 class="setting-title">Analytiques</h4>
                  <p class="setting-description">Statistiques avancÃ©es</p>
                </div>
                <button class="btn-setting">Voir</button>
              </div>
            </div>

            <!-- System Info -->
            <div class="system-info-section">
              <h4 class="info-section-title">
                <span class="title-icon">â„¹ï¸</span>
                Informations SystÃ¨me
              </h4>
              <div class="info-grid">
                <div class="info-row">
                  <span class="info-label">Application</span>
                  <span class="info-value">Kyojin KJX Admin Panel v2.0</span>
                </div>
                <div class="info-row">
                  <span class="info-label">Frontend</span>
                  <span class="info-value">Angular 21</span>
                </div>
                <div class="info-row">
                  <span class="info-label">Backend</span>
                  <span class="info-value">Spring Boot 3.2.5</span>
                </div>
                <div class="info-row">
                  <span class="info-label">Base de donnÃ©es</span>
                  <span class="info-value">H2 Database</span>
                </div>
                <div class="info-row">
                  <span class="info-label">DerniÃ¨re mise Ã  jour</span>
                  <span class="info-value">{{ currentTime | date:'dd/MM/yyyy HH:mm' }}</span>
                </div>
              </div>
            </div>

            <!-- Danger Zone -->
            <div class="danger-zone">
              <h4 class="danger-title">âš ï¸ Zone Danger</h4>
              <div class="danger-actions">
                <div class="danger-item">
                  <div class="danger-info">
                    <span class="danger-label">RÃ©initialiser les donnÃ©es</span>
                    <span class="danger-desc">Supprime toutes les donnÃ©es de test</span>
                  </div>
                  <button class="btn-danger">RÃ©initialiser</button>
                </div>
                <div class="danger-item">
                  <div class="danger-info">
                    <span class="danger-label">Vider le cache</span>
                    <span class="danger-desc">Efface le cache local de l'application</span>
                  </div>
                  <button class="btn-danger">Vider</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Toast Notification -->
<div class="toast-notification" [class.show]="showToastNotification" [class]="'toast-' + toastType">
  <span class="toast-icon">{{ toastType === 'success' ? 'âœ…' : toastType === 'error' ? 'âŒ' : 'âš ï¸' }}</span>
  <span class="toast-message">{{ toastMessage }}</span>
</div>

<!-- ==========================================
     MODALS SECTION
     ========================================== -->

<!-- USER MODAL -->
<div class="modal-overlay" *ngIf="showUserModal" (click)="closeUserModal()">
  <div class="modal-container modal-user" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ‘¤</span>
        {{ editMode ? 'Modifier l\'utilisateur' : 'Nouvel utilisateur' }}
      </h3>
      <button class="btn-close-modal" (click)="closeUserModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveUser()" class="modal-form">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Nom d'utilisateur *</label>
            <input [(ngModel)]="userForm.username" name="username" type="text" class="form-input" placeholder="ex: john_doe" required />
          </div>
          <div class="form-group">
            <label class="form-label">Email *</label>
            <input [(ngModel)]="userForm.email" name="email" type="email" class="form-input" placeholder="ex: john@example.com" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">RÃ´le *</label>
            <select [(ngModel)]="userForm.role" name="role" class="form-select" required>
              <option value="USER">Utilisateur</option>
              <option value="MODERATOR">ModÃ©rateur</option>
              <option value="COACH">Coach</option>
              <option value="ADMIN">Administrateur</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Statut</label>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userForm.isActive" name="isActive" id="userActive" />
              <label for="userActive" class="toggle-label">
                <span class="toggle-text">{{ userForm.isActive ? 'Actif' : 'Inactif' }}</span>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeUserModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- PRODUCT MODAL -->
<div class="modal-overlay" *ngIf="showProductModal" (click)="closeProductModal()">
  <div class="modal-container modal-product" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ›ï¸</span>
        {{ editMode ? 'Modifier le produit' : 'Nouveau produit' }}
      </h3>
      <button class="btn-close-modal" (click)="closeProductModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveProduct()" class="modal-form">
        <div class="form-row">
          <div class="form-group full-width">
            <label class="form-label">Nom du produit *</label>
            <input [(ngModel)]="productForm.name" name="name" type="text" class="form-input" placeholder="ex: Maillot KJX 2024" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">CatÃ©gorie *</label>
            <select [(ngModel)]="productForm.category" name="category" class="form-select" required>
              <option value="apparel">ğŸ‘• VÃªtements</option>
              <option value="merchandise">ğŸ Merchandise</option>
              <option value="bundle">ğŸ“¦ Bundle</option>
              <option value="digital">ğŸ’¿ Digital</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Prix (â‚¬) *</label>
            <input [(ngModel)]="productForm.price" name="price" type="number" step="0.01" min="0" class="form-input" placeholder="29.99" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Stock *</label>
            <input [(ngModel)]="productForm.stock" name="stock" type="number" min="0" class="form-input" placeholder="100" required />
          </div>
          <div class="form-group">
            <label class="form-label">Produit vedette</label>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="productForm.isFeatured" name="isFeatured" id="productFeatured" />
              <label for="productFeatured" class="toggle-label">
                <span class="toggle-text">{{ productForm.isFeatured ? 'â­ Vedette' : 'Standard' }}</span>
              </label>
            </div>
          </div>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Description</label>
          <textarea [(ngModel)]="productForm.description" name="description" class="form-textarea" placeholder="Description du produit..." rows="3"></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeProductModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- POST MODAL -->
<div class="modal-overlay" *ngIf="showPostModal" (click)="closePostModal()">
  <div class="modal-container modal-post modal-large" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ“</span>
        {{ editMode ? 'Modifier l\'article' : 'Nouvel article' }}
      </h3>
      <button class="btn-close-modal" (click)="closePostModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="savePost()" class="modal-form">
        <div class="form-group full-width">
          <label class="form-label">Titre de l'article *</label>
          <input [(ngModel)]="postForm.title" name="title" type="text" class="form-input" placeholder="ex: Victoire en LEC Summer Split!" required />
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">CatÃ©gorie *</label>
            <select [(ngModel)]="postForm.category" name="category" class="form-select" required>
              <option value="esports">ğŸ® E-Sports</option>
              <option value="announcements">ğŸ“¢ Annonces</option>
              <option value="interviews">ğŸ¤ Interviews</option>
              <option value="releases">ğŸ†• Sorties</option>
              <option value="community">ğŸ‘¥ CommunautÃ©</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Auteur *</label>
            <input [(ngModel)]="postForm.author" name="author" type="text" class="form-input" placeholder="ex: Admin KJX" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date de publication *</label>
            <input [(ngModel)]="postForm.date" name="date" type="date" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Statut</label>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="postForm.isPublished" name="isPublished" id="postPublished" />
              <label for="postPublished" class="toggle-label">
                <span class="toggle-text">{{ postForm.isPublished ? 'âœ… PubliÃ©' : 'ğŸ“ Brouillon' }}</span>
              </label>
            </div>
          </div>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Extrait (aperÃ§u)</label>
          <textarea [(ngModel)]="postForm.excerpt" name="excerpt" class="form-textarea" placeholder="RÃ©sumÃ© court de l'article..." rows="2"></textarea>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Contenu *</label>
          <textarea [(ngModel)]="postForm.description" name="description" class="form-textarea large" placeholder="Contenu complet de l'article..." rows="6" required></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closePostModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- TEAM MODAL -->
<div class="modal-overlay" *ngIf="showTeamModal" (click)="closeTeamModal()">
  <div class="modal-container modal-team" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ®</span>
        {{ editMode ? 'Modifier l\'Ã©quipe' : 'Nouvelle Ã©quipe' }}
      </h3>
      <button class="btn-close-modal" (click)="closeTeamModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveTeam()" class="modal-form">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Nom de l'Ã©quipe *</label>
            <input [(ngModel)]="teamForm.name" name="name" type="text" class="form-input" placeholder="ex: KJX Main Roster" required />
          </div>
          <div class="form-group">
            <label class="form-label">Jeu *</label>
            <select [(ngModel)]="teamForm.game" name="game" class="form-select" required>
              <option value="lol">ğŸ® League of Legends</option>
              <option value="valorant">ğŸ”« Valorant</option>
              <option value="csgo">ğŸ’£ CS:GO / CS2</option>
              <option value="rl">âš½ Rocket League</option>
              <option value="tft">â™Ÿï¸ TFT</option>
              <option value="other">ğŸ¯ Autre</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Win Rate (%)</label>
            <input [(ngModel)]="teamForm.winRate" name="winRate" type="number" min="0" max="100" class="form-input" placeholder="65" />
          </div>
          <div class="form-group">
            <label class="form-label">URL Logo</label>
            <input [(ngModel)]="teamForm.logoUrl" name="logoUrl" type="text" class="form-input" placeholder="https://..." />
          </div>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Description</label>
          <textarea [(ngModel)]="teamForm.description" name="description" class="form-textarea" placeholder="Description de l'Ã©quipe, palmarÃ¨s..." rows="3"></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeTeamModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- MEMBERSHIP MODAL -->
<div class="modal-overlay" *ngIf="showMembershipModal" (click)="closeMembershipModal()">
  <div class="modal-container modal-membership" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">â­</span>
        {{ editMode ? 'Modifier l\'abonnement' : 'Nouvel abonnement' }}
      </h3>
      <button class="btn-close-modal" (click)="closeMembershipModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveMembership()" class="modal-form">
        <div class="form-group full-width">
          <label class="form-label">Nom de la formule *</label>
          <input [(ngModel)]="membershipForm.name" name="name" type="text" class="form-input" placeholder="ex: Fan Club Premium" required />
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Prix (â‚¬) *</label>
            <input [(ngModel)]="membershipForm.price" name="price" type="number" step="0.01" min="0" class="form-input" placeholder="9.99" required />
          </div>
          <div class="form-group">
            <label class="form-label">DurÃ©e (jours) *</label>
            <input [(ngModel)]="membershipForm.durationDays" name="durationDays" type="number" min="1" class="form-input" placeholder="30" required />
          </div>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Description</label>
          <textarea [(ngModel)]="membershipForm.description" name="description" class="form-textarea" placeholder="Description de l'abonnement..." rows="2"></textarea>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Avantages inclus</label>
          <textarea [(ngModel)]="membershipForm.benefits" name="benefits" class="form-textarea" placeholder="Liste des avantages (un par ligne)..." rows="4"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Statut</label>
          <div class="toggle-switch">
            <input type="checkbox" [(ngModel)]="membershipForm.isActive" name="isActive" id="membershipActive" />
            <label for="membershipActive" class="toggle-label">
              <span class="toggle-text">{{ membershipForm.isActive ? 'âœ… Actif' : 'âŒ Inactif' }}</span>
            </label>
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeMembershipModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- EVENT MODAL -->
<div class="modal-overlay" *ngIf="showEventModal" (click)="closeEventModal()">
  <div class="modal-container modal-event" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ“…</span>
        {{ editMode ? 'Modifier l\'Ã©vÃ©nement' : 'Nouvel Ã©vÃ©nement' }}
      </h3>
      <button class="btn-close-modal" (click)="closeEventModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveEvent()" class="modal-form">
        <div class="form-group full-width">
          <label class="form-label">Titre de l'Ã©vÃ©nement *</label>
          <input [(ngModel)]="eventForm.title" name="title" type="text" class="form-input" placeholder="ex: Scrim vs Team Vitality" required />
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Type d'Ã©vÃ©nement *</label>
            <select [(ngModel)]="eventForm.eventType" name="eventType" class="form-select" required>
              <option value="match">ğŸ† Match Officiel</option>
              <option value="scrim">âš”ï¸ Scrim</option>
              <option value="training">ğŸ’ª EntraÃ®nement</option>
              <option value="fanmeet">ğŸ‘¥ Fan Meet</option>
              <option value="event">ğŸ‰ Ã‰vÃ©nement</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Lieu</label>
            <input [(ngModel)]="eventForm.location" name="location" type="text" class="form-input" placeholder="ex: Paris, LEC Studio" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date *</label>
            <input [(ngModel)]="eventForm.date" name="date" type="date" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Heure</label>
            <input [(ngModel)]="eventForm.time" name="time" type="time" class="form-input" />
          </div>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Description</label>
          <textarea [(ngModel)]="eventForm.description" name="description" class="form-textarea" placeholder="DÃ©tails de l'Ã©vÃ©nement..." rows="3"></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeEventModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- MATCH MODAL -->
<div class="modal-overlay" *ngIf="showMatchModal" (click)="closeMatchModal()">
  <div class="modal-container modal-match" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">ğŸ†</span>
        {{ editMode ? 'Modifier le match' : 'Nouveau match' }}
      </h3>
      <button class="btn-close-modal" (click)="closeMatchModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="saveMatch()" class="modal-form">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Tournoi / CompÃ©tition *</label>
            <input [(ngModel)]="matchForm.tournament" name="tournament" type="text" class="form-input" placeholder="ex: LEC Summer Split" required />
          </div>
          <div class="form-group">
            <label class="form-label">Format *</label>
            <select [(ngModel)]="matchForm.format" name="format" class="form-select" required>
              <option value="Bo1">Bo1</option>
              <option value="Bo3">Bo3</option>
              <option value="Bo5">Bo5</option>
            </select>
          </div>
        </div>
        <div class="form-row teams-vs">
          <div class="form-group team-input">
            <label class="form-label">Ã‰quipe 1 *</label>
            <input [(ngModel)]="matchForm.team1" name="team1" type="text" class="form-input" placeholder="Notre Ã©quipe" required />
          </div>
          <div class="vs-separator">
            <span class="vs-text">VS</span>
          </div>
          <div class="form-group team-input">
            <label class="form-label">Ã‰quipe 2 *</label>
            <input [(ngModel)]="matchForm.team2" name="team2" type="text" class="form-input" placeholder="Adversaire" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date *</label>
            <input [(ngModel)]="matchForm.date" name="date" type="date" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Heure</label>
            <input [(ngModel)]="matchForm.time" name="time" type="time" class="form-input" />
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">VisibilitÃ©</label>
          <div class="toggle-switch">
            <input type="checkbox" [(ngModel)]="matchForm.hidden" name="hidden" id="matchHidden" />
            <label for="matchHidden" class="toggle-label">
              <span class="toggle-text">{{ matchForm.hidden ? 'ğŸ™ˆ MasquÃ© du public' : 'ğŸ‘ï¸ Visible publiquement' }}</span>
            </label>
          </div>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="closeMatchModal()">Annuler</button>
          <button type="submit" class="btn-primary">
            <span class="btn-icon">ğŸ’¾</span>
            {{ editMode ? 'Mettre Ã  jour' : 'CrÃ©er' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
